/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Apr 7 15:22
*/
var KISSY=function(a){var g=this,j,i=0;return j={__BUILD_TIME:"20130407152227",Env:{host:g},Config:{debug:"",fns:{}},version:"1.40dev",config:function(h,b){var e,g,c=this,f,n=j.Config,o=n.fns;j.isObject(h)?j.each(h,function(a,d){(f=o[d])?f.call(c,a):n[d]=a}):(e=o[h],b===a?g=e?e.call(c):n[h]:e?g=e.call(c,b):n[h]=b);return g},log:function(h,b,e){if(j.Config.debug&&(e&&(h=e+": "+h),g.console!==a&&console.log))console[b&&console[b]?b:"log"](h)},error:function(a){if(j.Config.debug)throw a instanceof
Error?a:Error(a);},guid:function(a){return(a||"")+i++}}}();
(function(a,g){function j(){}function i(a,k){var d;c?d=c(a):(j.prototype=a,d=new j);d.constructor=k;return d}function h(f,k,d,l,q,c){if(!k||!f)return f;d===g&&(d=m);var n,e,j,i;k[b]=f;c.push(k);j=a.keys(k);i=j.length;for(n=0;n<i;n++)if(e=j[n],e!=b){var p=f,t=k,r=d,u=l,v=q,y=c;if(r||!(e in p)||v){var w=p[e],s=t[e];if(w===s)w===g&&(p[e]=w);else if(u&&(s=u.call(t,e,s)),v&&s&&(a.isArray(s)||a.isPlainObject(s)))s[b]?p[e]=s[b]:(t=w&&(a.isArray(w)||a.isPlainObject(w))?w:a.isArray(s)?[]:{},p[e]=t,h(t,s,r,
u,m,y));else if(s!==g&&(r||!(e in p)))p[e]=s}}return f}var b="__MIX_CIRCULAR",e=this,m=!0,c=Object.create,f=!{toString:1}.propertyIsEnumerable("toString"),n="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(a,f){for(var d in f)a[d]=f[d]})(a,{stamp:function(f,k,d){var d=d||"__~ks_stamped",l=f[d];if(!l&&!k)try{l=f[d]=a.guid(d)}catch(q){l=g}return l},keys:function(a){var k=[],d,l;for(d in a)k.push(d);if(f)for(l=n.length-1;0<=l;l--)d=
n[l],a.hasOwnProperty(d)&&k.push(d);return k},mix:function(f,k,d,l,q){"object"===typeof d&&(l=d.whitelist,q=d.deep,d=d.overwrite);if(l&&!a.isFunction(l))var c=l,l=function(d,l){return a.inArray(d,c)?l:g};var e=[],n=0;for(h(f,k,d,l,q,e);k=e[n++];)delete k[b];return f},merge:function(f){var f=a.makeArray(arguments),k={},d,l=f.length;for(d=0;d<l;d++)a.mix(k,f[d]);return k},augment:function(f,k){var d=a.makeArray(arguments),l=d.length-2,q=1,b=d[l],c=d[l+1];a.isArray(c)||(b=c,c=g,l++);a.isBoolean(b)||
(b=g,l++);for(;q<l;q++)a.mix(f.prototype,d[q].prototype||d[q],b,c);return f},extend:function(f,k,d,l){if(!k||!f)return f;var q=k.prototype,b;b=i(q,f);f.prototype=a.mix(b,f.prototype);f.superclass=i(q,k);d&&a.mix(b,d);l&&a.mix(f,l);return f},namespace:function(){var f=a.makeArray(arguments),k=f.length,d=null,l,b,c,n=f[k-1]===m&&k--;for(l=0;l<k;l++){c=(""+f[l]).split(".");d=n?e:this;for(b=e[c[0]]===d?1:0;b<c.length;++b)d=d[c[b]]=d[c[b]]||{}}return d}})})(KISSY);
(function(a,g){var j=Array.prototype,i=j.indexOf,h=j.lastIndexOf,b=j.filter,e=j.every,m=j.some,c=j.map;a.mix(a,{each:function(f,b,c){if(f){var k,d,l=0;k=f&&f.length;d=k===g||"function"===a.type(f);c=c||null;if(d)for(d=a.keys(f);l<d.length&&!(k=d[l],!1===b.call(c,f[k],k,f));l++);else for(d=f[0];l<k&&!1!==b.call(c,d,l,f);d=f[++l]);}return f},indexOf:i?function(a,b){return i.call(b,a)}:function(a,b){for(var c=0,k=b.length;c<k;++c)if(b[c]===a)return c;return-1},lastIndexOf:h?function(a,b){return h.call(b,
a)}:function(a,b){for(var c=b.length-1;0<=c&&b[c]!==a;c--);return c},unique:function(f,b){var c=f.slice();b&&c.reverse();for(var k=0,d,l;k<c.length;){for(l=c[k];(d=a.lastIndexOf(l,c))!==k;)c.splice(d,1);k+=1}b&&c.reverse();return c},inArray:function(f,c){return-1<a.indexOf(f,c)},filter:b?function(a,c,o){return b.call(a,c,o||this)}:function(f,c,b){var k=[];a.each(f,function(d,a,f){c.call(b||this,d,a,f)&&k.push(d)});return k},map:c?function(a,b,o){return c.call(a,b,o||this)}:function(a,c,b){for(var k=
a.length,d=Array(k),l=0;l<k;l++){var q="string"==typeof a?a.charAt(l):a[l];if(q||l in a)d[l]=c.call(b||this,q,l,a)}return d},reduce:function(a,c,b){var k=a.length;if("function"!==typeof c)throw new TypeError("callback is not function!");if(0===k&&2==arguments.length)throw new TypeError("arguments invalid");var d=0,l;if(3<=arguments.length)l=arguments[2];else{do{if(d in a){l=a[d++];break}d+=1;if(d>=k)throw new TypeError;}while(1)}for(;d<k;)d in a&&(l=c.call(g,l,a[d],d,a)),d++;return l},every:e?function(a,
c,b){return e.call(a,c,b||this)}:function(a,c,b){for(var k=a&&a.length||0,d=0;d<k;d++)if(d in a&&!c.call(b,a[d],d,a))return!1;return!0},some:m?function(a,c,b){return m.call(a,c,b||this)}:function(a,c,b){for(var k=a&&a.length||0,d=0;d<k;d++)if(d in a&&c.call(b,a[d],d,a))return!0;return!1},makeArray:function(c){if(null==c)return[];if(a.isArray(c))return c;if("number"!==typeof c.length||c.alert||"string"==typeof c||a.isFunction(c))return[c];for(var b=[],e=0,k=c.length;e<k;e++)b[e]=c[e];return b}})})(KISSY);
(function(a,g){function j(a){var c=typeof a;return null==a||"object"!==c&&"function"!==c}function i(){if(c)return c;var f=b;a.each(e,function(a){f+=a+"|"});f=f.slice(0,-1);return c=RegExp(f,"g")}function h(){if(f)return f;var c=b;a.each(m,function(a){c+=a+"|"});c+="&#(\\d{1,5});";return f=RegExp(c,"g")}var b="",e={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},m={},c,f,n=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in e)m[e[a]]=a})();a.mix(a,{urlEncode:function(a){return encodeURIComponent(""+
a)},urlDecode:function(a){return decodeURIComponent(a.replace(/\+/g," "))},fromUnicode:function(a){return a.replace(/\\u([a-f\d]{4})/ig,function(a,d){return String.fromCharCode(parseInt(d,16))})},escapeHTML:function(a){return(a+"").replace(i(),function(a){return m[a]})},escapeRegExp:function(a){return a.replace(n,"\\$&")},unEscapeHTML:function(a){return a.replace(h(),function(a,d){return e[a]||String.fromCharCode(+d)})},param:function(c,f,d,l){if(!a.isPlainObject(c))return b;f=f||"&";d=d||"=";a.isUndefined(l)&&
(l=!0);var q=[],e,h,i,n,m,p=a.urlEncode;for(e in c)if(m=c[e],e=p(e),j(m))q.push(e),m!==g&&q.push(d,p(m+b)),q.push(f);else if(a.isArray(m)&&m.length){h=0;for(n=m.length;h<n;++h)i=m[h],j(i)&&(q.push(e,l?p("[]"):b),i!==g&&q.push(d,p(i+b)),q.push(f))}q.pop();return q.join(b)},unparam:function(c,b,d){if("string"!=typeof c||!(c=a.trim(c)))return{};for(var d=d||"=",l={},f,e=a.urlDecode,c=c.split(b||"&"),h=0,i=c.length;h<i;++h){f=c[h].indexOf(d);if(-1==f)b=e(c[h]),f=g;else{b=e(c[h].substring(0,f));f=c[h].substring(f+
1);try{f=e(f)}catch(j){}a.endsWith(b,"[]")&&(b=b.substring(0,b.length-2))}b in l?a.isArray(l[b])?l[b].push(f):l[b]=[l[b],f]:l[b]=f}return l}})})(KISSY);
(function(a){function g(a,i,h){var b=[].slice,e=b.call(arguments,3),g=function(){},c=function(){var c=b.call(arguments);return i.apply(this instanceof g?this:h,a?c.concat(e):e.concat(c))};g.prototype=i.prototype;c.prototype=new g;return c}a.mix(a,{noop:function(){},bind:g(0,g,null,0),rbind:g(0,g,null,1),later:function(g,i,h,b,e){var i=i||0,m=g,c=a.makeArray(e),f;"string"==typeof g&&(m=b[g]);g=function(){m.apply(b,c)};f=h?setInterval(g,i):setTimeout(g,i);return{id:f,interval:h,cancel:function(){this.interval?
clearInterval(f):clearTimeout(f)}}},throttle:function(g,i,h){i=i||150;if(-1===i)return function(){g.apply(h||this,arguments)};var b=a.now();return function(){var e=a.now();e-b>i&&(b=e,g.apply(h||this,arguments))}},buffer:function(g,i,h){function b(){b.stop();e=a.later(g,i,0,h||this,arguments)}i=i||150;if(-1===i)return function(){g.apply(h||this,arguments)};var e=null;b.stop=function(){e&&(e.cancel(),e=0)};return b}})})(KISSY);
(function(a,g){function j(c,f,h){var g=c,k,d,l,q;if(!c)return g;if(c[e])return h[c[e]].destination;if("object"===typeof c){q=c.constructor;if(a.inArray(q,[Boolean,String,Number,Date,RegExp]))g=new q(c.valueOf());else if(k=a.isArray(c))g=f?a.filter(c,f):c.concat();else if(d=a.isPlainObject(c))g={};c[e]=q=a.guid();h[q]={destination:g,input:c}}if(k)for(c=0;c<g.length;c++)g[c]=j(g[c],f,h);else if(d)for(l in c)if(l!==e&&(!f||f.call(c,c[l],l,c)!==b))g[l]=j(c[l],f,h);return g}function i(c,b,e,i){if(c[m]===
b&&b[m]===c)return h;c[m]=b;b[m]=c;var k=function(a,d){return null!==a&&a!==g&&a[d]!==g},d;for(d in b)!k(c,d)&&k(b,d)&&e.push("expected has key '"+d+"', but missing from actual.");for(d in c)!k(b,d)&&k(c,d)&&e.push("expected missing key '"+d+"', but present in actual.");for(d in b)d!=m&&(a.equals(c[d],b[d],e,i)||i.push("'"+d+"' was '"+(b[d]?b[d].toString():b[d])+"' in expected, but was '"+(c[d]?c[d].toString():c[d])+"' in actual."));a.isArray(c)&&a.isArray(b)&&c.length!=b.length&&i.push("arrays were not the same length");
delete c[m];delete b[m];return 0===e.length&&0===i.length}var h=!0,b=!1,e="__~ks_cloned",m="__~ks_compared";a.mix(a,{equals:function(c,b,e,m){e=e||[];m=m||[];return c===b?h:c===g||null===c||b===g||null===b?null==c&&null==b:c instanceof Date&&b instanceof Date?c.getTime()==b.getTime():"string"==typeof c&&"string"==typeof b||a.isNumber(c)&&a.isNumber(b)?c==b:"object"===typeof c&&"object"===typeof b?i(c,b,e,m):c===b},clone:function(b,f){var h={},i=j(b,f,h);a.each(h,function(a){a=a.input;if(a[e])try{delete a[e]}catch(d){a[e]=
g}});h=null;return i},now:Date.now||function(){return+new Date}})})(KISSY);
(function(a,g){var j=/^[\s\xa0]+|[\s\xa0]+$/g,i=String.prototype.trim,h=/\\?\{([^{}]+)\}/g;a.mix(a,{trim:i?function(a){return null==a?"":i.call(a)}:function(a){return null==a?"":(a+"").replace(j,"")},substitute:function(a,e,i){return"string"!=typeof a||!e?a:a.replace(i||h,function(a,b){return"\\"===a.charAt(0)?a.slice(1):e[b]===g?"":e[b]})},ucfirst:function(a){a+="";return a.charAt(0).toUpperCase()+a.substring(1)},startsWith:function(a,e){return 0===a.lastIndexOf(e,0)},endsWith:function(a,e){var h=
a.length-e.length;return 0<=h&&a.indexOf(e,h)==h}})})(KISSY);
(function(a,g){var j={},i=Object.prototype,h=i.toString;a.mix(a,{isBoolean:0,isNumber:0,isString:0,isFunction:0,isArray:0,isDate:0,isRegExp:0,isObject:0,type:function(a){return null==a?""+a:j[h.call(a)]||"object"},isNull:function(a){return null===a},isUndefined:function(a){return a===g},isEmptyObject:function(a){for(var e in a)if(e!==g)return!1;return!0},isPlainObject:function(b){if(!b||"object"!==a.type(b)||b.nodeType||b.window==b)return!1;var e,h;try{if((h=b.constructor)&&!i.hasOwnProperty.call(b,
"constructor")&&!i.hasOwnProperty.call(h.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(e in b);return e===g||i.hasOwnProperty.call(b,e)}});a.each("Boolean,Number,String,Function,Array,Date,RegExp,Object".split(","),function(b,e){j["[object "+b+"]"]=e=b.toLowerCase();a["is"+b]=function(b){return a.type(b)==e}})})(KISSY);
(function(a,g){function j(a,d,c){if(a instanceof e)return c(a[n]);var b=a[n];if(a=a[o])a.push([d,c]);else if(h(b))j(b,d,c);else return d&&d(b);return g}function i(a){if(!(this instanceof i))return new i(a);this.promise=a||new b}function h(a){return a&&a instanceof b}function b(a){this[n]=a;a===g&&(this[o]=[])}function e(a){if(a instanceof e)return a;b.apply(this,arguments);return this}function m(a,d,c){function f(a){try{return d?d(a):a}catch(c){return new e(c)}}function h(a){try{return c?c(a):new e(a)}catch(d){return new e(d)}}
function g(a){n||(n=1,m.resolve(f(a)))}var m=new i,n=0;a instanceof b?j(a,g,function(a){n||(n=1,m.resolve(h(a)))}):g(a);return m.promise}function c(a){return!f(a)&&h(a)&&a[o]===g&&(!h(a[n])||c(a[n]))}function f(a){return h(a)&&a[o]===g&&a[n]instanceof e}var n="__promise_value",o="__promise_pendings";i.prototype={constructor:i,resolve:function(c){var d=this.promise,b;if(!(b=d[o]))return null;d[n]=c;b=[].concat(b);d[o]=g;a.each(b,function(a){j(d,a[0],a[1])});return c},reject:function(a){return this.resolve(new e(a))}};
b.prototype={constructor:b,then:function(a,d){return m(this,a,d)},fail:function(a){return m(this,0,a)},fin:function(a){return m(this,function(d){return a(d,!0)},function(d){return a(d,!1)})},done:function(a,d){(a||d?this.then(a,d):this).fail(function(a){setTimeout(function(){throw a;},0)})},isResolved:function(){return c(this)},isRejected:function(){return f(this)}};a.extend(e,b);KISSY.Defer=i;KISSY.Promise=b;b.Defer=i;a.mix(b,{when:m,isPromise:h,isResolved:c,isRejected:f,all:function(a){var d=a.length;
if(!d)return null;for(var c=i(),b=0;b<a.length;b++)(function(b,f){m(b,function(b){a[f]=b;0===--d&&c.resolve(a)},function(a){c.reject(a)})})(a[b],b);return c.promise}})})(KISSY);
(function(a){function g(a,b){for(var e=0,g=a.length-1,c=[],f;0<=g;g--)f=a[g],"."!=f&&(".."===f?e++:e?e--:c[c.length]=f);if(b)for(;e--;e)c[c.length]="..";return c=c.reverse()}var j=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/,i={resolve:function(){var h="",b,e=arguments,i,c=0;for(b=e.length-1;0<=b&&!c;b--)i=e[b],"string"==typeof i&&i&&(h=i+"/"+h,c="/"==i.charAt(0));h=g(a.filter(h.split("/"),function(a){return!!a}),!c).join("/");return(c?"/":"")+h||"."},normalize:function(h){var b=
"/"==h.charAt(0),e="/"==h.slice(-1),h=g(a.filter(h.split("/"),function(a){return!!a}),!b).join("/");!h&&!b&&(h=".");h&&e&&(h+="/");return(b?"/":"")+h},join:function(){var h=a.makeArray(arguments);return i.normalize(a.filter(h,function(a){return a&&"string"==typeof a}).join("/"))},relative:function(h,b){var h=i.normalize(h),b=i.normalize(b),e=a.filter(h.split("/"),function(a){return!!a}),g=[],c,f,j=a.filter(b.split("/"),function(a){return!!a});f=Math.min(e.length,j.length);for(c=0;c<f&&e[c]==j[c];c++);
for(f=c;c<e.length;)g.push(".."),c++;g=g.concat(j.slice(f));return g=g.join("/")},basename:function(a,b){var e;e=(a.match(j)||[])[3]||"";b&&e&&e.slice(-1*b.length)==b&&(e=e.slice(0,-1*b.length));return e},dirname:function(a){var b=a.match(j)||[],a=b[1]||"",b=b[2]||"";if(!a&&!b)return".";b&&(b=b.substring(0,b.length-1));return a+b},extname:function(a){return(a.match(j)||[])[4]||""}};a.Path=i})(KISSY);
(function(a,g){function j(d){d._queryMap||(d._queryMap=a.unparam(d._query))}function i(a){this._query=a||""}function h(a,c){return encodeURI(a).replace(c,function(a){a=a.charCodeAt(0).toString(16);return"%"+(1==a.length?"0"+a:a)})}function b(d){if(d instanceof b)return d.clone();var c=this;a.mix(c,{scheme:"",userInfo:"",hostname:"",port:"",path:"",query:"",fragment:""});d=b.getComponents(d);a.each(d,function(d,b){d=d||"";if("query"==b)c.query=new i(d);else{try{d=a.urlDecode(d)}catch(f){}c[b]=d}});
return c}var e=/[#\/\?@]/g,m=/[#\?]/g,c=/[#@]/g,f=/#/g,n=RegExp("^(?:([\\w\\d+.-]+):)?(?://(?:([^/?#@]*)@)?([\\w\\d\\-\\u0100-\\uffff.+%]*|\\[[^\\]]+\\])(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),o=a.Path,k={scheme:1,userInfo:2,hostname:3,port:4,path:5,query:6,fragment:7};i.prototype={constructor:i,clone:function(){return new i(this.toString())},reset:function(a){this._query=a||"";this._queryMap=null;return this},count:function(){var d=0,c=this._queryMap,b;j(this);for(b in c)a.isArray(c[b])?
d+=c[b].length:d++;return d},has:function(d){var c;j(this);c=this._queryMap;return d?d in c:!a.isEmptyObject(c)},get:function(a){var c;j(this);c=this._queryMap;return a?c[a]:c},keys:function(){j(this);return a.keys(this._queryMap)},set:function(d,c){var b;j(this);b=this._queryMap;"string"==typeof d?this._queryMap[d]=c:(d instanceof i&&(d=d.get()),a.each(d,function(a,d){b[d]=a}));return this},remove:function(a){j(this);a?delete this._queryMap[a]:this._queryMap={};return this},add:function(d,c){var b=
this,f,e;a.isObject(d)?(d instanceof i&&(d=d.get()),a.each(d,function(a,d){b.add(d,a)})):(j(b),f=b._queryMap,e=f[d],e=e===g?c:[].concat(e).concat(c),f[d]=e);return b},toString:function(d){j(this);return a.param(this._queryMap,g,g,d)}};b.prototype={constructor:b,clone:function(){var d=new b,c=this;a.each(k,function(a,b){d[b]=c[b]});d.query=d.query.clone();return d},resolve:function(d){"string"==typeof d&&(d=new b(d));var c=0,f,e=this.clone();a.each("scheme,userInfo,hostname,port,path,query,fragment".split(","),
function(b){if(b=="path")if(c)e[b]=d[b];else{if(b=d.path){c=1;if(!a.startsWith(b,"/"))if(e.hostname&&!e.path)b="/"+b;else if(e.path){f=e.path.lastIndexOf("/");f!=-1&&(b=e.path.slice(0,f+1)+b)}e.path=o.normalize(b)}}else if(b=="query"){if(c||d.query.toString()){e.query=d.query.clone();c=1}}else if(c||d[b]){e[b]=d[b];c=1}});return e},getScheme:function(){return this.scheme},setScheme:function(a){this.scheme=a;return this},getHostname:function(){return this.hostname},setHostname:function(a){this.hostname=
a;return this},setUserInfo:function(a){this.userInfo=a;return this},getUserInfo:function(){return this.userInfo},setPort:function(a){this.port=a;return this},getPort:function(){return this.port},setPath:function(a){this.path=a;return this},getPath:function(){return this.path},setQuery:function(d){"string"==typeof d&&(a.startsWith(d,"?")&&(d=d.slice(1)),d=new i(h(d,c)));this.query=d;return this},getQuery:function(){return this.query},getFragment:function(){return this.fragment},setFragment:function(d){a.startsWith(d,
"#")&&(d=d.slice(1));this.fragment=d;return this},isSameOriginAs:function(a){return this.hostname.toLowerCase()==a.hostname.toLowerCase()&&this.scheme.toLowerCase()==a.scheme.toLowerCase()&&this.port.toLowerCase()==a.port.toLowerCase()},toString:function(d){var c=[],b,g;if(b=this.scheme)c.push(h(b,e)),c.push(":");if(b=this.hostname){c.push("//");if(g=this.userInfo)c.push(h(g,e)),c.push("@");c.push(encodeURIComponent(b));if(g=this.port)c.push(":"),c.push(g)}if(g=this.path)b&&!a.startsWith(g,"/")&&
(g="/"+g),g=o.normalize(g),c.push(h(g,m));if(d=this.query.toString.call(this.query,d))c.push("?"),c.push(d);if(d=this.fragment)c.push("#"),c.push(h(d,f));return c.join("")}};b.Query=i;b.getComponents=function(d){var c=(d||"").match(n)||[],b={};a.each(k,function(a,d){b[d]=c[a]});return b};a.Uri=b})(KISSY);
(function(a,g){function j(a){var d=0;return parseFloat(a.replace(/\./g,function(){return 0===d++?".":""}))}function i(a,d){var c;d.trident=0.1;if((c=a.match(/Trident\/([\d.]*)/))&&c[1])d.trident=j(c[1]);d.core="trident"}function h(a){var d;return(d=a.match(/MSIE\s([^;]*)/))&&d[1]?j(d[1]):0}function b(a){var d,c="",b="",f,e=[6,9],n,o=m&&m.createElement("div"),x=[],p={webkit:g,trident:g,gecko:g,presto:g,chrome:g,safari:g,firefox:g,ie:g,opera:g,mobile:g,core:g,shell:g,phantomjs:g,os:g,ipad:g,iphone:g,
ipod:g,ios:g,android:g,nodejs:g};o&&(o.innerHTML="<\!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",""),x=o.getElementsByTagName("s"));if(0<x.length){i(a,p);f=e[0];for(e=e[1];f<=e;f++)if(o.innerHTML="<\!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",f),0<x.length){p[b="ie"]=f;break}if(!p.ie&&(n=h(a)))p[b="ie"]=n}else if((f=a.match(/AppleWebKit\/([\d.]*)/))&&f[1]){p[c="webkit"]=j(f[1]);if((f=a.match(/Chrome\/([\d.]*)/))&&f[1])p[b="chrome"]=j(f[1]);else if((f=a.match(/\/([\d.]*) Safari/))&&
f[1])p[b="safari"]=j(f[1]);if(/ Mobile\//.test(a)&&a.match(/iPad|iPod|iPhone/)){p.mobile="apple";if((f=a.match(/OS ([^\s]*)/))&&f[1])p.ios=j(f[1].replace("_","."));d="ios";if((f=a.match(/iPad|iPod|iPhone/))&&f[0])p[f[0].toLowerCase()]=p.ios}else if(/ Android/.test(a)){if(/Mobile/.test(a)&&(d=p.mobile="android"),(f=a.match(/Android ([^\s]*);/))&&f[1])p.android=j(f[1])}else if(f=a.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))p.mobile=f[0].toLowerCase();if((f=a.match(/PhantomJS\/([^\s]*)/))&&f[1])p.phantomjs=
j(f[1])}else if((f=a.match(/Presto\/([\d.]*)/))&&f[1]){if(p[c="presto"]=j(f[1]),(f=a.match(/Opera\/([\d.]*)/))&&f[1]){p[b="opera"]=j(f[1]);if((f=a.match(/Opera\/.* Version\/([\d.]*)/))&&f[1])p[b]=j(f[1]);if((f=a.match(/Opera Mini[^;]*/))&&f)p.mobile=f[0].toLowerCase();else if((f=a.match(/Opera Mobi[^;]*/))&&f)p.mobile=f[0]}}else if(n=h(a))p[b="ie"]=n,i(a,p);else if(f=a.match(/Gecko/)){p[c="gecko"]=0.1;if((f=a.match(/rv:([\d.]*)/))&&f[1])p[c]=j(f[1]);if((f=a.match(/Firefox\/([\d.]*)/))&&f[1])p[b="firefox"]=
j(f[1])}d||(/windows|win32/i.test(a)?d="windows":/macintosh|mac_powerpc/i.test(a)?d="macintosh":/linux/i.test(a)?d="linux":/rhino/i.test(a)&&(d="rhino"));p.os=d;p.core=p.core||c;p.shell=b;return p}var e=a.Env.host,m=e.document,e=e.navigator,c=KISSY.UA=b(e&&e.userAgent||"");if("object"===typeof process){var f,n;if((f=process.versions)&&(n=f.node))c.os=process.platform,c.nodejs=j(n)}c.getDescriptorFromUserAgent=b;f="webkit,trident,gecko,presto,chrome,safari,firefox,ie,opera".split(",");n=m&&m.documentElement;
var o="";n&&(a.each(f,function(a){var d=c[a];d&&(o+=" ks-"+a+(parseInt(d)+""),o+=" ks-"+a)}),a.trim(o)&&(n.className=a.trim(n.className+o)))})(KISSY);
(function(a){var g=a.Env.host,j=a.UA,i=["","Webkit","Moz","O","Ms"],h=g.document||{},b=!1,e="",m=!1,c="",f=h.documentElement,n,o=!0,k=!1,d="ontouchstart"in h&&!j.phantomjs,l=h.documentMode||j.ie;f&&(f.querySelector&&8!=l&&(k=!0),n=f.style,a.each(i,function(a){if((a?a+"Transition":"transition")in n)e=a,b=!0;if((a?a+"Transform":"transform")in n)c=a,m=!0}),o="classList"in f);a.Features={isTouchSupported:function(){return d},isDeviceMotionSupported:function(){return!!g.DeviceMotionEvent},isHashChangeSupported:function(){return"onhashchange"in
g&&(!l||l>7)},isTransitionSupported:function(){return b},isTransformSupported:function(){return m},isClassListSupported:function(){return o},isQuerySelectorSupported:function(){return k},isIELessThan:function(a){return l&&l<a},getTransitionPrefix:function(){return e},getTransformPrefix:function(){return c}}})(KISSY);(function(a){function g(a){this.runtime=a}g.Status={INIT:0,LOADING:1,LOADED:2,ERROR:3,ATTACHED:4};a.Loader=g;a.Loader.Status=g.Status})(KISSY);
(function(a){function g(a,g,b){a=a[j]||(a[j]={});b&&(a[g]=a[g]||[]);return a[g]}a.namespace("Loader");var j="__events__"+a.now();KISSY.Loader.Target={on:function(a,h){g(this,a,1).push(h)},detach:function(i,h){var b,e;if(i){if(b=g(this,i))h&&(e=a.indexOf(h,b),-1!=e&&b.splice(e,1)),(!h||!b.length)&&delete (this[j]||(this[j]={}))[i]}else delete this[j]},fire:function(a,h){var b=g(this,a)||[],e,j=b.length;for(e=0;e<j;e++)b[e].call(null,h)}}})(KISSY);
(function(a){function g(a){if("string"==typeof a)return j(a);for(var c=[],b=0,f=a.length;b<f;b++)c[b]=j(a[b]);return c}function j(a){"/"==a.charAt(a.length-1)&&(a+="index");return a}function i(c,b,f){var c=c.Env.mods,e,g,b=a.makeArray(b);for(g=0;g<b.length;g++)if(e=c[b[g]],!e||e.status!==f)return 0;return 1}var h=a.Loader,b=a.Path,e=a.Env.host,m=a.startsWith,c=h.Status,f=c.ATTACHED,n=c.LOADED,o=a.Loader.Utils={},k=e.document;a.mix(o,{docHead:function(){return k.getElementsByTagName("head")[0]||k.documentElement},
normalDepModuleName:function(a,c){var f=0,e;if(!c)return c;if("string"==typeof c)return m(c,"../")||m(c,"./")?b.resolve(b.dirname(a),c):b.normalize(c);for(e=c.length;f<e;f++)c[f]=o.normalDepModuleName(a,c[f]);return c},createModulesInfo:function(c,b){a.each(b,function(a){o.createModuleInfo(c,a)})},createModuleInfo:function(c,b,f){var b=j(b),e=c.Env.mods,g=e[b];return g?g:e[b]=g=new h.Module(a.mix({name:b,runtime:c},f))},isAttached:function(a,c){return i(a,c,f)},isLoaded:function(a,c){return i(a,c,
n)},getModules:function(c,b){var e=[c],g,h,i,j,k=c.Env.mods;a.each(b,function(b){g=k[b];if(!g||"css"!=g.getType())h=o.unalias(c,b),(i=a.reduce(h,function(a,c){j=k[c];return a&&j&&j.status==f},!0))?e.push(k[h[0]].value):e.push(null)});return e},attachModsRecursively:function(a,c,b){var b=b||[],f,e=1,g=a.length,h=b.length;for(f=0;f<g;f++)e=o.attachModRecursively(a[f],c,b)&&e,b.length=h;return e},attachModRecursively:function(c,b,e){var g,h=b.Env.mods[c];if(!h)return 0;g=h.status;if(g==f)return 1;if(g!=
n)return 0;if(a.Config.debug){if(a.inArray(c,e))return e.push(c),0;e.push(c)}return o.attachModsRecursively(h.getNormalizedRequires(),b,e)?(o.attachMod(b,h),1):0},attachMod:function(a,c){if(c.status==n){var b=c.fn;b&&(c.value=b.apply(c,o.getModules(a,c.getRequiresWithAlias())));c.status=f;a.getLoader().fire("afterModAttached",{mod:c})}},getModNamesAsArray:function(a){"string"==typeof a&&(a=a.replace(/\s+/g,"").split(","));return a},normalizeModNames:function(a,c,b){return o.unalias(a,o.normalizeModNamesWithAlias(a,
c,b))},unalias:function(a,c){for(var b=[].concat(c),f,e,h,i=0,j,k=a.Env.mods;!i;){i=1;for(f=b.length-1;0<=f;f--)if((e=k[b[f]])&&(h=e.alias)){i=0;for(j=h.length-1;0<=j;j--)h[j]||h.splice(j,1);b.splice.apply(b,[f,1].concat(g(h)))}}return b},normalizeModNamesWithAlias:function(a,c,b){var a=[],f,e;if(c){f=0;for(e=c.length;f<e;f++)c[f]&&a.push(g(c[f]))}b&&(a=o.normalDepModuleName(b,a));return a},registerModule:function(c,b,f,e){var g=c.Env.mods,h=g[b];if(!h||!h.fn)o.createModuleInfo(c,b),h=g[b],a.mix(h,
{name:b,status:n,fn:f}),a.mix(h,e)},getMappedPath:function(a,c,b){for(var a=b||a.Config.mappedRules||[],f,b=0;b<a.length;b++)if(f=a[b],c.match(f[0]))return c.replace(f[0],f[1]);return c}})})(KISSY);
(function(a){function g(a,b){return b in a?a[b]:a.runtime.Config[b]}function j(c){a.mix(this,c)}function i(c){this.status=b.Status.INIT;a.mix(this,c)}var h=a.Path,b=a.Loader,e=b.Utils;a.augment(j,{reset:function(c){a.mix(this,c)},getTag:function(){return g(this,"tag")},getName:function(){return this.name},getBase:function(){return g(this,"base")},getPrefixUriForCombo:function(){var a=this.getName();return this.getBase()+(a&&!this.isIgnorePackageNameInUri()?a+"/":"")},getBaseUri:function(){return g(this,
"baseUri")},isDebug:function(){return g(this,"debug")},isIgnorePackageNameInUri:function(){return g(this,"ignorePackageNameInUri")},getCharset:function(){return g(this,"charset")},isCombine:function(){return g(this,"combine")}});b.Package=j;a.augment(i,{setValue:function(a){this.value=a},getType:function(){var a=this.type;a||(this.type=a=".css"==h.extname(this.name).toLowerCase()?"css":"js");return a},getFullPath:function(){var a,b,g,i,j;if(!this.fullpath){g=this.getPackage();b=g.getBaseUri();j=this.getPath();
if(g.isIgnorePackageNameInUri()&&(i=g.getName()))j=h.relative(i,j);b=b.resolve(j);(a=this.getTag())&&b.query.set("t",a);this.fullpath=e.getMappedPath(this.runtime,b.toString())}return this.fullpath},getPath:function(){var a;if(!(a=this.path)){a=this.name;var b="."+this.getType(),e="-min";a=h.join(h.dirname(a),h.basename(a,b));this.getPackage().isDebug()&&(e="");a=this.path=a+e+b}return a},getValue:function(){return this.value},getName:function(){return this.name},getPackage:function(){var b;if(!(b=
this.packageInfo)){b=this.name;var f=this.runtime.config("packages"),e="",g;for(g in f)a.startsWith(b,g)&&g.length>e.length&&(e=g);b=this.packageInfo=f[e]||m}return b},getTag:function(){return this.tag||this.getPackage().getTag()},getCharset:function(){return this.charset||this.getPackage().getCharset()},getRequiredMods:function(){var b=this.runtime;return a.map(this.getNormalizedRequires(),function(a){return e.createModuleInfo(b,a)})},getRequiresWithAlias:function(){var a=this.requiresWithAlias,
b=this.requires;if(!b||0==b.length)return b||[];a||(this.requiresWithAlias=a=e.normalizeModNamesWithAlias(this.runtime,b,this.name));return a},getNormalizedRequires:function(){var a,b=this.normalizedRequiresStatus,g=this.status,h=this.requires;if(!h||0==h.length)return h||[];if((a=this.normalizedRequires)&&b==g)return a;this.normalizedRequiresStatus=g;return this.normalizedRequires=e.normalizeModNames(this.runtime,h,this.name)}});b.Module=i;var m=new b.Package({name:"",runtime:a})})(KISSY);
(function(a){var g=require("fs"),j=require("vm");a.mix(a,{getScript:function(i,h,b){var e;a.isPlainObject(h)&&(b=h.charset,e=h.error,h=h.success);if(a.startsWith(a.Path.extname(i).toLowerCase(),".css"))h&&h();else{var m=(new a.Uri(i)).getPath();try{var c=g.readFileSync(m,b);j.runInThisContext("(function(KISSY){"+c+"})",i)(a);h&&h()}catch(f){e&&e(f)}}}})})(KISSY);
(function(a,g){function j(b){"/"!=b.charAt(b.length-1)&&(b+="/");e?b=e.resolve(b):(a.startsWith(b,"file:")||(b="file:"+b),b=new a.Uri(b));return b}var i=a.Loader,h=i.Utils,b=a.Env.host.location,e,m,c=a.Config.fns;if(!a.UA.nodejs&&b&&(m=b.href))e=new a.Uri(m);c.map=function(a){var b=this.Config;return!1===a?b.mappedRules=[]:b.mappedRules=(b.mappedRules||[]).concat(a||[])};c.mapCombo=function(a){var b=this.Config;return!1===a?b.mappedComboRules=[]:b.mappedComboRules=(b.mappedComboRules||[]).concat(a||
[])};c.packages=function(b){var c,e=this.Config,h=e.packages=e.packages||{};return b?(a.each(b,function(b,f){c=b.name||f;var e=j(b.base||b.path);b.name=c;b.base=e.toString();b.baseUri=e;b.runtime=a;delete b.path;h[c]?h[c].reset(b):h[c]=new i.Package(b)}),g):!1===b?(e.packages={},g):h};c.modules=function(b){var c=this,e=c.Env;b&&a.each(b,function(b,d){h.createModuleInfo(c,d,b);a.mix(e.mods[d],b)})};c.base=function(a){var b=this.Config;if(!a)return b.base;a=j(a);b.base=a.toString();b.baseUri=a;return g}})(KISSY);
(function(a){var g=a.Loader,j=a.UA,i=g.Utils;a.augment(g,g.Target,{__currentMod:null,__startLoadTime:0,__startLoadModName:null,add:function(g,b,e){var m=this.runtime;if("string"==typeof g)i.registerModule(m,g,b,e);else if(a.isFunction(g))if(e=b,b=g,j.ie){var g=a.Env.host.document.getElementsByTagName("script"),c,f,n;for(f=g.length-1;0<=f;f--)if(n=g[f],"interactive"==n.readyState){c=n;break}g=c?c.getAttribute("data-mod-name"):this.__startLoadModName;i.registerModule(m,g,b,e);this.__startLoadModName=
null;this.__startLoadTime=0}else this.__currentMod={fn:b,config:e}}})})(KISSY);
(function(a,g){function j(b){a.mix(this,{fn:b,waitMods:{},requireLoadedMods:{}})}function i(a,b,c){var f,e=b.length;for(f=0;f<e;f++){var g=a,i=b[f],j=c,k=g.runtime,r=void 0,u=void 0,r=k.Env.mods,v=r[i];v||(m.createModuleInfo(k,i),v=r[i]);r=v.status;r!=d&&(r===o?j.loadModRequires(g,v):(u=j.isModWait(i),u||(j.addWaitMod(i),r<=n&&h(g,v,j))))}}function h(b,d,e){function h(){d.fn?(f[j]||(f[j]=1),e.loadModRequires(b,d),e.removeWaitMod(j),e.check()):d.status=k}var i=b.runtime,j=d.getName(),o=d.getCharset(),
p=d.getFullPath(),t=0,r=c.ie,u="css"==d.getType();d.status=n;r&&!u&&(b.__startLoadModName=j,b.__startLoadTime=Number(+new Date));a.getScript(p,{attrs:r?{"data-mod-name":j}:g,success:function(){if(d.status==n)if(u)m.registerModule(i,j,a.noop);else if(t=b.__currentMod){m.registerModule(i,j,t.fn,t.config);b.__currentMod=null}a.later(h)},error:h,charset:o})}var b,e,m,c,f={},n,o,k,d;b=a.Loader;e=b.Status;m=b.Utils;c=a.UA;n=e.LOADING;o=e.LOADED;k=e.ERROR;d=e.ATTACHED;j.prototype={constructor:j,check:function(){var b=
this.fn;b&&a.isEmptyObject(this.waitMods)&&(b(),this.fn=null)},addWaitMod:function(a){this.waitMods[a]=1},removeWaitMod:function(a){delete this.waitMods[a]},isModWait:function(a){return this.waitMods[a]},loadModRequires:function(a,b){var c=this.requireLoadedMods,d=b.name;c[d]||(c[d]=1,c=b.getNormalizedRequires(),i(a,c,this))}};a.augment(b,{use:function(a,b,c){var d,f=new j(function(){m.attachModsRecursively(d,e);b&&b.apply(e,m.getModules(e,a))}),e=this.runtime,a=m.getModNamesAsArray(a),a=m.normalizeModNamesWithAlias(e,
a);d=m.unalias(e,a);i(this,d,f);c?f.check():setTimeout(function(){f.check()},0);return this}})})(KISSY);
(function(a,g){function j(){var b=/^(.*)(seed|kissy)(?:-min)?\.js[^/]*/i,c=/(seed|kissy)(?:-min)?\.js/i,e,i,j=h.host.document.getElementsByTagName("script"),k=j[j.length-1],j=k.src,k=(k=k.getAttribute("data-config"))?(new Function("return "+k))():{};e=k.comboPrefix=k.comboPrefix||"??";i=k.comboSep=k.comboSep||",";var d,l=j.indexOf(e);-1==l?d=j.replace(b,"$1"):(d=j.substring(0,l),"/"!=d.charAt(d.length-1)&&(d+="/"),j=j.substring(l+e.length).split(i),a.each(j,function(a){return a.match(c)?(d+=a.replace(b,
"$1"),!1):g}));return a.mix({base:d},k)}a.mix(a,{add:function(a,b,e){this.getLoader().add(a,b,e)},use:function(a,b){var e=this.getLoader();e.use.apply(e,arguments)},getLoader:function(){var b=this.Env;return this.Config.combine&&!a.UA.nodejs?b._comboLoader:b._loader},require:function(a){return b.getModules(this,[a])[1]}});var i=a.Loader,h=a.Env,b=i.Utils,e=a.Loader.Combo;a.UA.nodejs?a.config({charset:"utf-8",base:__dirname.replace(/\\/g,"/").replace(/\/$/,"")+"/"}):a.config(a.mix({comboMaxUrlLength:2E3,
comboMaxFileNum:40,charset:"utf-8",tag:"20130407152227"},j()));h.mods={};h._loader=new i(a);e&&(h._comboLoader=new e(a))})(KISSY);
(function(a,g){function j(){b&&!h.nodejs&&q(i,d,j);c.resolve(a)}var i=a.Env.host,h=a.UA,b=i.document,e=b&&b.documentElement,m=i.location,c=new a.Defer,f=c.promise,n=/^#?([\w-]+)$/,o=/\S/,k=!(!b||!b.addEventListener),d="load",l=k?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},q=k?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};a.mix(a,{isWindow:function(a){return null!=a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;
var b;try{i.DOMParser?b=(new DOMParser).parseFromString(a,"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=g}!b||!b.documentElement||b.getElementsByTagName("parsererror");return b},globalEval:function(a){a&&o.test(a)&&(i.execScript||function(a){i.eval.call(i,a)})(a)},ready:function(a){f.done(a);return this},available:function(c,d){var c=(c+"").match(n)[1],e=1,f,g=a.later(function(){((f=b.getElementById(c))&&(d(f)||1)||500<++e)&&g.cancel()},40,!0)}});if(m&&-1!==
(m.search||"").indexOf("ks-debug"))a.Config.debug=!0;(function(){if(!b||"complete"===b.readyState)j();else if(l(i,d,j),k){var a=function(){q(b,"DOMContentLoaded",a);j()};l(b,"DOMContentLoaded",a)}else{var c=function(){"complete"===b.readyState&&(q(b,"readystatechange",c),j())};l(b,"readystatechange",c);var f,g=e&&e.doScroll;try{f=null===i.frameElement}catch(h){f=!1}if(g&&f){var m=function(){try{g("left"),j()}catch(a){setTimeout(m,40)}};m()}}})();if(h.ie)try{b.execCommand("BackgroundImageCache",!1,
!0)}catch(z){}})(KISSY,void 0);
(function(a,g,j){a({anim:{alias:["anim/facade"]}});a({"anim/base":{requires:["dom","event/custom"]}});a({"anim/facade":{requires:["dom","anim/base","anim/timer",KISSY.Features.isTransitionSupported()?"anim/transition":""]}});a({"anim/timer":{requires:["dom","event","anim/base"]}});a({"anim/transition":{requires:["dom","event","anim/base"]}});a({base:{requires:["event/custom"]}});a({button:{requires:["component/base","event"]}});a({calendar:{requires:["node","event"]}});a({color:{requires:["base"]}});
a({combobox:{requires:["dom","component/base","node","menu","io"]}});a({"component/base":{requires:["rich-base","node","event"]}});a({"component/extension":{requires:["dom","node"]}});a({"component/plugin/drag":{requires:["rich-base","dd/base"]}});a({"component/plugin/resize":{requires:["resizable"]}});a({datalazyload:{requires:["dom","event","base"]}});a({dd:{alias:["dd/base","dd/droppable"]}});a({"dd/base":{requires:["dom","node","event","rich-base","base"]}});a({"dd/droppable":{requires:["dd/base",
"dom","node","rich-base"]}});a({"dd/plugin/constrain":{requires:["base","node"]}});a({"dd/plugin/proxy":{requires:["node","base","dd/base"]}});a({"dd/plugin/scroll":{requires:["dd/base","base","node","dom"]}});a({dom:{alias:["dom/base",g.isIELessThan(9)?"dom/ie":"",!g.isQuerySelectorSupported()?"dom/selector":"",g.isClassListSupported()?"":"dom/class-list"]}});a({"dom/class-list":{requires:["dom/base"]}});a({"dom/ie":{requires:["dom/base"]}});a({"dom/selector":{requires:["dom/base","dom/ie"]}});a({editor:{requires:["htmlparser",
"component/base","core"]}});a({event:{alias:["event/base","event/dom","event/custom"]}});a({"event/custom":{requires:["event/base"]}});a({"event/dom":{alias:["event/dom/base",g.isTouchSupported()?"event/dom/touch":"",g.isDeviceMotionSupported()?"event/dom/shake":"",g.isHashChangeSupported()?"":"event/dom/hashchange",g.isIELessThan(9)?"event/dom/ie":"",j.ie?"":"event/dom/focusin"]}});a({"event/dom/base":{requires:["dom","event/base"]}});a({"event/dom/focusin":{requires:["event/dom/base"]}});a({"event/dom/hashchange":{requires:["event/dom/base",
"dom"]}});a({"event/dom/ie":{requires:["event/dom/base","dom"]}});a({"event/dom/shake":{requires:["event/dom/base"]}});a({"event/dom/touch":{requires:["event/dom/base","dom"]}});a({imagezoom:{requires:["node","overlay"]}});a({ajax:{alias:["io"]}});a({io:{requires:["dom","event","json"]}});a({kison:{requires:["base"]}});a({menu:{requires:["component/extension","node","component/base","event"]}});a({menubutton:{requires:["node","menu","button","component/base"]}});a({mvc:{requires:["event","base","io",
"json","node"]}});a({node:{requires:["dom","event/dom","anim"]}});a({overlay:{requires:["node","component/base","component/extension","event"]}});a({resizable:{requires:["node","rich-base","dd/base"]}});a({"rich-base":{requires:["base"]}});a({scrollview:{alias:[g.isTouchSupported()?"scrollview/drag":"scrollview/base"]}});a({"scrollview/base":{requires:["component/base","component/extension","dom","event"]}});a({"scrollview/drag":{requires:["scrollview/base","dd/base","event"]}});a({"scrollview/plugin/scrollbar":{requires:["component/base",
"event","dd/base","base"]}});a({separator:{requires:["component/base"]}});a({"split-button":{requires:["component/base","button","menubutton"]}});a({stylesheet:{requires:["dom"]}});a({swf:{requires:["dom","json","base"]}});a({switchable:{requires:["dom","event","anim",KISSY.Features.isTouchSupported()?"dd/base":""]}});a({tabs:{requires:["button","toolbar","component/base"]}});a({toolbar:{requires:["component/base","node"]}});a({tree:{requires:["node","component/base","event"]}});a({waterfall:{requires:["node",
"base"]}});a({xtemplate:{alias:["xtemplate/facade"]}});a({"xtemplate/compiler":{requires:["xtemplate/runtime"]}});a({"xtemplate/facade":{requires:["xtemplate/runtime","xtemplate/compiler"]}})})(function(a){KISSY.config("modules",a)},KISSY.Features,KISSY.UA);
(function(a){a.add("empty",a.noop);a.add("promise",function(){return a.Promise});a.add("ua",function(){return a.UA});a.add("uri",function(){return a.Uri});a.add("path",function(){return a.Path});var g=a.Env.host,j=(g.document||{}).documentMode,i=(a.UA.nodejs&&"object"===typeof global?global:g).JSON;j&&9>j&&(i=null);if(i)a.add("json",function(){return a.JSON=i}),a.parseJSON=function(a){return i.parse(a)};else{var h=/^[\],:{}\s]*$/,b=/(?:^|:|,)(?:\s*\[)+/g,e=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,m=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;
a.parseJSON=function(c){return null===c?c:"string"===typeof c&&(c=a.trim(c))&&h.test(c.replace(e,"@").replace(m,"]").replace(b,""))?(new Function("return "+c))():a.error("Invalid JSON: "+c)}}a.UA.nodejs&&(a.KISSY=a,module.exports=a)})(KISSY);
